<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-tutorials/robust_multi_objective_bo/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.6.3">
<title data-rh="true">Robust multi-objective Bayesian optimization under input noise | BoTorch</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://botorch.org/botorch/img/botorch.png"><meta data-rh="true" name="twitter:image" content="https://botorch.org/botorch/img/botorch.png"><meta data-rh="true" property="og:url" content="https://botorch.org/botorch/docs/tutorials/robust_multi_objective_bo/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Robust multi-objective Bayesian optimization under input noise | BoTorch"><meta data-rh="true" name="description" content="&lt;LinkButtons"><meta data-rh="true" property="og:description" content="&lt;LinkButtons"><link data-rh="true" rel="icon" href="/botorch/img/botorch.ico"><link data-rh="true" rel="canonical" href="https://botorch.org/botorch/docs/tutorials/robust_multi_objective_bo/"><link data-rh="true" rel="alternate" href="https://botorch.org/botorch/docs/tutorials/robust_multi_objective_bo/" hreflang="en"><link data-rh="true" rel="alternate" href="https://botorch.org/botorch/docs/tutorials/robust_multi_objective_bo/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://4ROLHRP5JS-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="BoTorch" href="/botorch/opensearch.xml">
<link rel="stylesheet" href="/css/code_block_buttons.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous">
<script src="/js/code_block_buttons.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.0/clipboard.min.js"></script><link rel="stylesheet" href="/botorch/assets/css/styles.0e4f1a4a.css">
<script src="/botorch/assets/js/runtime~main.3aecc7f1.js" defer="defer"></script>
<script src="/botorch/assets/js/main.4bcd3a6b.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/botorch/"><div class="navbar__logo"><img src="/botorch/img/botorch.png" alt="" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/botorch/img/botorch.png" alt="" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">BoTorch</b></a><a class="navbar__item navbar__link" href="/botorch/docs/introduction">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/botorch/docs/tutorials/">Tutorials</a><a href="https://botorch-dev.readthedocs.io/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">API Reference<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a class="navbar__item navbar__link" href="/botorch/docs/papers">Papers</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/pytorch/botorch" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="true" href="/botorch/docs/tutorials/">Tutorials</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/botorch/docs/tutorials/">Overview</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/botorch/docs/tutorials/custom_botorch_model_in_ax/">Using BoTorch with Ax</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/botorch/docs/tutorials/closed_loop_botorch_only/">Full Optimization Loops</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/botorch/docs/tutorials/multi_objective_bo/">Multi-Objective Bayesian Optimization</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/botorch/docs/tutorials/multi_objective_bo/">Multi-objective optimization with qEHVI, qNEHVI, and qNParEGO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/botorch/docs/tutorials/constrained_multi_objective_bo/">Constrained multi-objective optimization with qNEHVI and qParEGO</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/botorch/docs/tutorials/robust_multi_objective_bo/">Robust multi-objective Bayesian optimization under input noise</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/botorch/docs/tutorials/decoupled_mobo/">Multi-objective Bayesian optimization with decoupled evaluations</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/botorch/docs/tutorials/fit_model_with_torch_optimizer/">Bite-Sized Tutorials</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/botorch/docs/tutorials/meta_learning_with_rgpe/">Advanced Usage</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/botorch/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Multi-Objective Bayesian Optimization</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Robust multi-objective Bayesian optimization under input noise</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Robust multi-objective Bayesian optimization under input noise</h1></header><div class="margin-top--sm margin-bottom--lg"><a href="https://github.com/cristianlara/botorch/blob/main/tutorials/robust_multi_objective_bo/robust_multi_objective_bo.ipynb" target="_blank" rel="noopener noreferrer" class="button button--outline button--primary margin-right--xs">Open in GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><a href="https://colab.research.google.com/github/cristianlara/botorch/blob/main/tutorials/robust_multi_objective_bo/robust_multi_objective_bo.ipynb" target="_blank" rel="noopener noreferrer" class="button button--outline button--primary margin--xs">Run in Google Colab<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="robust-multi-objective-bayesian-optimization-under-input-noise">Robust Multi-Objective Bayesian Optimization Under Input Noise<a href="#robust-multi-objective-bayesian-optimization-under-input-noise" class="hash-link" aria-label="Direct link to Robust Multi-Objective Bayesian Optimization Under Input Noise" title="Direct link to Robust Multi-Objective Bayesian Optimization Under Input Noise">​</a></h2>
<p>In this tutorial, we illustrate how to perform robust multi-objective Bayesian
optimization (BO) under input noise.</p>
<p>This is a simple tutorial; for support for constraints, batch sizes greater than 1, and
many alternative methods, please see <a href="https://github.com/facebookresearch/robust_mobo" target="_blank" rel="noopener noreferrer">https://github.com/facebookresearch/robust_mobo</a>.</p>
<p>We consider the problem of optimizing (maximizing) a vector-valued objective function
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">f</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf f(\mathbf x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathbf" style="margin-right:0.10903em">f</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mclose">)</span></span></span></span> where at implementation time <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">f</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf f(\mathbf x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathbf" style="margin-right:0.10903em">f</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mclose">)</span></span></span></span> is subject to
input noise <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">f</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo>⋄</mo><mi mathvariant="bold">ξ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{f}(\mathbf{x} \diamond \mathbf{\xi})</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathbf" style="margin-right:0.10903em">f</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋄</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.04601em">ξ</span><span class="mclose">)</span></span></span></span> where
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">ξ</mi><mo>∼</mo><mi>P</mi><mo stretchy="false">(</mo><mi mathvariant="bold">ξ</mi><mi mathvariant="normal">∣</mi><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf{\xi} \sim P(\mathbf \xi | \mathbf x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em"></span><span class="mord mathnormal" style="margin-right:0.04601em">ξ</span><span class="mspace" style="margin-right:0.2778em"></span><span class="mrel">∼</span><span class="mspace" style="margin-right:0.2778em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em">ξ</span><span class="mord">∣</span><span class="mord mathbf">x</span><span class="mclose">)</span></span></span></span> is the random input noise and <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo>⋄</mo></mrow><annotation encoding="application/x-tex">\diamond</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4445em"></span><span class="mord">⋄</span></span></span></span>
denotes the perturbation function (e.g. addition, multiplication, or any arbitrary
function).</p>
<p>We consider the scenario where:</p>
<ol>
<li>We have access to a simulator during optimization such that <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">f</mi></mrow><annotation encoding="application/x-tex">\mathbf{f}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6944em"></span><span class="mord mathbf" style="margin-right:0.10903em">f</span></span></span></span> can be
queried at a given design <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">x</mi></mrow><annotation encoding="application/x-tex">\mathbf x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em"></span><span class="mord mathbf">x</span></span></span></span> without input noise.</li>
<li>Input noise is only present at implementation time. After optimization, the design
that is chosen according to the decision maker&#x27;s preferences will be subject to input
noise.</li>
<li>The perturbation function is known.</li>
<li>We can sample from the generative process <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi mathvariant="bold">ξ</mi><mi mathvariant="normal">∣</mi><mi mathvariant="bold">x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">P(\mathbf \xi | \mathbf x)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.13889em">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.04601em">ξ</span><span class="mord">∣</span><span class="mord mathbf">x</span><span class="mclose">)</span></span></span></span>.</li>
</ol>
<p>Quantifying risk is important to understand how the final selected design will perform
under input noise.</p>
<p>To quantify risk in the multi-objective setting, the MVaR set is an appealing option.
For a given design <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">x</mi></mrow><annotation encoding="application/x-tex">\mathbf x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em"></span><span class="mord mathbf">x</span></span></span></span>, MVaR is theis the set of points such that for every
<span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">z</mi></mrow><annotation encoding="application/x-tex">\mathbf z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em"></span><span class="mord mathbf">z</span></span></span></span> in the MVaR set, <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">z</mi></mrow><annotation encoding="application/x-tex">\mathbf z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em"></span><span class="mord mathbf">z</span></span></span></span> is Pareto dominated by the objectives under
input noise <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">f</mi><mo stretchy="false">(</mo><mi mathvariant="bold">x</mi><mo>⋄</mo><mi mathvariant="bold">ξ</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex">\mathbf f (\mathbf x \diamond \mathbf \xi)</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathbf" style="margin-right:0.10903em">f</span><span class="mopen">(</span><span class="mord mathbf">x</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">⋄</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em"></span><span class="mord mathnormal" style="margin-right:0.04601em">ξ</span><span class="mclose">)</span></span></span></span> with probability <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span>. In
other words, if <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">x</mi></mrow><annotation encoding="application/x-tex">\mathbf x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em"></span><span class="mord mathbf">x</span></span></span></span> is the chosen final design, the objectives will be better
than <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">z</mi></mrow><annotation encoding="application/x-tex">\mathbf z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em"></span><span class="mord mathbf">z</span></span></span></span> with probability <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span> for all <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">z</mi></mrow><annotation encoding="application/x-tex">\mathbf z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em"></span><span class="mord mathbf">z</span></span></span></span> in the MVaR set.</p>
<p><img decoding="async" loading="lazy" src="attachment:1d_toy_mvar_single_designs_combined.png" alt="MVaR" title="MvaR" class="img_ev3q"></p>
<p>However, during optimization we are interested in identifying the global MVaR set that
is the optimal set of probabilistic lower bounds across all designs. The global MVaR set
is the non-dominated set of points across the union of MVaR sets of all points in the
design space. See [1] for a deeper discussion.</p>
<p>In this tutorial, we will optimize the 2 1-dimensional functions shown above to identify
an approximate global MVaR set. See [1] for a description of these functions.</p>
<p>To do so, we will use Bayesian optimization with MARS (MVaR approximated via random
scalarizations). MARS exploits the result in [1] that, under limited assumptions, there
is a bijection between weights in the <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi><mo>−</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">M-1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7667em;vertical-align:-0.0833em"></span><span class="mord mathnormal" style="margin-right:0.10903em">M</span><span class="mspace" style="margin-right:0.2222em"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em"></span></span><span class="base"><span class="strut" style="height:0.6444em"></span><span class="mord">1</span></span></span></span>-dimensional-simplex (where <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>M</mi></mrow><annotation encoding="application/x-tex">M</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em"></span><span class="mord mathnormal" style="margin-right:0.10903em">M</span></span></span></span> is the number
of objectives) and points <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">z</mi></mrow><annotation encoding="application/x-tex">\mathbf z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em"></span><span class="mord mathbf">z</span></span></span></span> in the MVaR set based on the value-at-risk (VaR)
of a Chebyshev scalarization.</p>
<p><img decoding="async" loading="lazy" src="attachment:bijection_plots.png" alt="bijection" title="bijection" class="img_ev3q"></p>
<p>MARS leverages this result to efficiently identify the MVaR set using Bayesian
optimization by, at each iteration, sampling a random Chebyshev scalarization and
selecting the new design with maximum acquisition value with respect to the
value-at-risk of the sampled scalarization.</p>
<p>[1]
<a href="https://arxiv.org/abs/2202.07549" target="_blank" rel="noopener noreferrer">S. Daulton, S. Cakmak, M. Balandat, M. A. Osborne, E. Zhou, and E. Bakshy. Robust Bayesian Optimziation Under Input Noise. ICML, 2022.</a></p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> torch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> numpy </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> np</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> os</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">tkwargs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;dtype&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">double</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;device&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">device</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;cuda:2&quot;</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cuda</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">is_available</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;cpu&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">seed </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">manual_seed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">seed</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">np</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">random</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">seed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">seed</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">SMOKE_TEST </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> os</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">environ</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;SMOKE_TEST&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="configure-the-problem-and-optimization">Configure the problem and optimization<a href="#configure-the-problem-and-optimization" class="hash-link" aria-label="Direct link to Configure the problem and optimization" title="Direct link to Configure the problem and optimization">​</a></h2>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">test_functions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">multi_objective </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ToyRobust</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">base_function </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ToyRobust</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">negate</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">tkwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># define test function</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">bounds </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> base_function</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bounds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">n_w </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> SMOKE_TEST </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">32</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># number of MC samples for approximating input noise distribution</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alpha </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.9</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># probability level</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">std_dev </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.1</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># zero-mean quasi-Normal input noise, with a standard deviation of 0.1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">search_space_range </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> bounds</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token plain"> bounds</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># scale the specified std_dev to a unit cube search space</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">scaled_std_dev </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">std_dev</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dtype</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">bounds</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dtype</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> device</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">bounds</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">device</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">/</span><span class="token plain"> search_space_range</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mc_samples </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> SMOKE_TEST </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">256</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># number of samples for MC acquisition functions</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">hv_n_w </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> SMOKE_TEST </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">512</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># number of MC samples for approximating input noise distribution for omniscient evaluation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mvar_ref_point </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">14.1951</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">3.1887</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">tkwargs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># reference point for the MVaR frontier</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># options for acquisition optimization</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">options </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;batch_limit&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># number of starting points to jointly optimize in L-BFGS-B</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;maxiter&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> SMOKE_TEST </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">200</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># maximum number of L-BFGS-B iterations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">optimization_kwargs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;num_restarts&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> SMOKE_TEST </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">20</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># number of random restarts for L-BFGS-B</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;raw_samples&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> SMOKE_TEST</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1024</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># number of random samples for initialization heuristic</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token string" style="color:#e3116c">&quot;options&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">iterations </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> SMOKE_TEST </span><span class="token keyword" style="color:#00009f">else</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">5</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># number of BO iterations</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">verbose </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">True</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">n_initial_points </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">4</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># number of initial sobol points</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-function-for-evaluating-the-objectives">Create a function for evaluating the objectives.<a href="#create-a-function-for-evaluating-the-objectives" class="hash-link" aria-label="Direct link to Create a function for evaluating the objectives." title="Direct link to Create a function for evaluating the objectives.">​</a></h2>
<p>We work in a search space that is normalized to the unit cube and only unnormalize the
search space to evaluate the objectives.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">utils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">transforms </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> unnormalize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># define function for evaluation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">eval_problem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    X </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> unnormalize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> base_function</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">bounds</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> base_function</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-function-for-sampling-initial-quasi-random-points-from-the-unit-cube">Create a function for sampling initial quasi-random points from the unit cube<a href="#create-a-function-for-sampling-initial-quasi-random-points-from-the-unit-cube" class="hash-link" aria-label="Direct link to Create a function for sampling initial quasi-random points from the unit cube" title="Direct link to Create a function for sampling initial quasi-random points from the unit cube">​</a></h2>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">utils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sampling </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> draw_sobol_samples</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">standard_bounds </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ones</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> base_function</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dim</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">tkwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">standard_bounds</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">generate_initial_data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    eval_problem</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bounds</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tkwargs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">r&quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Generates the initial data for the experiments.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Args:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        n: Number of training points.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        eval_problem: The callable used to evaluate the objective function.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        bounds: The bounds to generate the training points from. `2 x d`-dim tensor.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        tkwargs: Arguments for tensors, dtype and device.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Returns:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        The train_X and train_Y. `n x d` and `n x m`.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    train_x </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> draw_sobol_samples</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">bounds</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">bounds</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">n</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> q</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">squeeze</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">to</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">**</span><span class="token plain">tkwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    train_obj </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> eval_problem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_x</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> train_x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> train_obj</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-utility-module-for-evaluating-the-hypervolume-of-the-mvar-frontier">Create a utility module for evaluating the hypervolume of the MVaR frontier<a href="#create-a-utility-module-for-evaluating-the-hypervolume-of-the-mvar-frontier" class="hash-link" aria-label="Direct link to Create a utility module for evaluating the hypervolume of the MVaR frontier" title="Direct link to Create a utility module for evaluating the hypervolume of the MVaR frontier">​</a></h2>
<p>We can evaluate the quality of an MVaR frontier by measuring the hypervolume dominated
by the MVaR frontier and bounded from below by a reference point.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">acquisition</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">multi_objective</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">multi_output_risk_measures </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> MVaR</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">utils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">multi_objective</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">box_decompositions</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dominated </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    DominatedPartitioning</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">transforms</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">input</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> InputPerturbation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MVaRHV</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">nn</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Module</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">r&quot;&quot;&quot;A helper class that calculates the HV of the MVaR set.&quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        alpha</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        eval_problem</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ref_point</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        n_w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        perturbation_set</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token builtin">super</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> DominatedPartitioning</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ref_point</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">ref_point</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mvar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MVaR</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">n_w</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">n_w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> alpha</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">perturbation </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> InputPerturbation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            perturbation_set</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">perturbation_set</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">eval</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">eval_problem </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> eval_problem</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">forward</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> new_X</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token triple-quoted-string string" style="color:#e3116c">r&quot;&quot;&quot;Calculate the resulting HV by adding the MVaR corresponding to the new_X</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        to the Pareto set.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        Args:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            new_X: `q x dim`-dim tensor of candidate points.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        Returns:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">            The cumulative MVaR HV of all points evaluated so far.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Get the corresponding MVaR set.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        perturbed_X </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">perturbation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">new_X</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        perturbed_Y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">eval_problem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">perturbed_X</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        new_mvar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mvar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">perturbed_Y</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">view</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> perturbed_Y</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shape</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Update and return the new MVaR HV.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">update</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">new_mvar</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">hv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">compute_hypervolume</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">item</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-method-for-initializing-the-surrogate-model">Create a method for initializing the surrogate model<a href="#create-a-method-for-initializing-the-surrogate-model" class="hash-link" aria-label="Direct link to Create a method for initializing the surrogate model" title="Direct link to Create a method for initializing the surrogate model">​</a></h2>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">gp_regression </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> SingleTaskGP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">model_list_gp_regression </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> ModelListGP</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> gpytorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mlls </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> SumMarginalLogLikelihood</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">transforms</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">outcome </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> Standardize</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">initialize_model</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> train_y</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> perturbation_set</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">r&quot;&quot;&quot;Constructs the model and its MLL.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Args:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        train_x: An `n x d`-dim tensor of training inputs.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        train_y: An `n x m`-dim tensor of training outcomes.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        perturbation_set: A `n_w x d`-dim tensor of perturbations</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Returns:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        The MLL and the model. Note: the model is not trained!</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    train_Yvar </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">full_like</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_y</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1e-7</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> train_y</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">std</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">dim</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token builtin">pow</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    models </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">train_y</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shape</span><span class="token punctuation" style="color:#393A34">[</span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        models</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">append</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            SingleTaskGP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                train_X</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">train_x</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                train_Y</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">train_y</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> i </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                train_Yvar</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">train_Yvar</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> i </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> i </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                outcome_transform</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Standardize</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">m</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                input_transform</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">InputPerturbation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">perturbation_set</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">perturbation_set</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    model </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> ModelListGP</span><span class="token punctuation" style="color:#393A34">(</span><span class="token operator" style="color:#393A34">*</span><span class="token plain">models</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mll </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SumMarginalLogLikelihood</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">likelihood</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> model</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> mll</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> model</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="create-a-method-for-initializing-mars-nei">Create a method for initializing MARS-NEI<a href="#create-a-method-for-initializing-mars-nei" class="hash-link" aria-label="Direct link to Create a method for initializing MARS-NEI" title="Direct link to Create a method for initializing MARS-NEI">​</a></h2>
<p>We use the MARS approach with the NEI acquisition function as in [1].</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">acquisition</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">multi_objective</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">multi_output_risk_measures </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> MARS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">acquisition</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">monte_carlo </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> qNoisyExpectedImprovement</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">utils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sampling </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> sample_simplex</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">get_MARS_NEI</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    model</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n_w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    X_baseline</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sampler</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mvar_ref_point</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token triple-quoted-string string" style="color:#e3116c">r&quot;&quot;&quot;Construct the NEI acquisition function with VaR of Chebyshev scalarizations.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Args:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        model: A fitted multi-output GPyTorchModel.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        n_w: the number of perturbation samples</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        X_baseline: An `r x d`-dim tensor of points already observed.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        sampler: The sampler used to draw the base samples.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        mvar_ref_point: The mvar reference point.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    Returns:</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">        The NEI acquisition function.</span><br></span><span class="token-line" style="color:#393A34"><span class="token triple-quoted-string string" style="color:#e3116c">    &quot;&quot;&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># sample weights from the simplex</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    weights </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> sample_simplex</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        d</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">mvar_ref_point</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shape</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        n</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        dtype</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">X_baseline</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dtype</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        device</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">X_baseline</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">device</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">squeeze</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># set up mars objective</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mars </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MARS</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        alpha</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        n_w</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">n_w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        chebyshev_weights</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">weights</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ref_point</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">mvar_ref_point</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># set normalization bounds for the scalarization</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mars</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_baseline_Y</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">model</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> X_baseline</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">X_baseline</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># initial qNEI acquisition function with the MARS objective</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    acq_func </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> qNoisyExpectedImprovement</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        model</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        X_baseline</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">X_baseline</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        objective</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">mars</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        prune_baseline</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">True</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sampler</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">sampler</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> acq_func</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="set-up-the-optimization">Set up the optimization<a href="#set-up-the-optimization" class="hash-link" aria-label="Direct link to Set up the optimization" title="Direct link to Set up the optimization">​</a></h2>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Get the initial data.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> generate_initial_data</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">n_initial_points</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    eval_problem</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">eval_problem</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    bounds</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">standard_bounds</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tkwargs</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">tkwargs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">utils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sampling </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> draw_sobol_normal_samples</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Ensure consistency of MVaRHV across seeds by using same perturbations.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># This sets the random seed and generates the perturbations on CPU.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># MVaR calculations are also moved to CPU.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">old_state </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">random</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get_rng_state</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">manual_seed</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">perturbations </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    draw_sobol_normal_samples</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">d</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">base_function</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dim</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">hv_n_w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">tkwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> scaled_std_dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mvar_hv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MVaRHV</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    alpha</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">alpha</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    eval_problem</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">eval_problem</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ref_point</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mvar_ref_point</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">tkwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n_w</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">hv_n_w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    perturbation_set</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">perturbations</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">random</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_rng_state</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">old_state</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    all_mvar_hvs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">mvar_hv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dtype</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">tkwargs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;dtype&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> RuntimeError</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Try to feed them one by one. This helps with memory.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    initial_mvar_hv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0.0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> j </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shape</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        initial_mvar_hv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mvar_hv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">j </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> j </span><span class="token operator" style="color:#393A34">+</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    all_mvar_hvs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">initial_mvar_hv</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dtype</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">tkwargs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;dtype&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="run-bo-with-mars">Run BO with MARS<a href="#run-bo-with-mars" class="hash-link" aria-label="Direct link to Run BO with MARS" title="Direct link to Run BO with MARS">​</a></h2>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> gc</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> gpytorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">settings </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> gpt_settings</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> time </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> time</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">fit </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> fit_gpytorch_mll</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sampling</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">normal </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> SobolQMCNormalSampler</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">optim</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">optimize </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> optimize_acqf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">start </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> time</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">range</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">iterations</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> verbose</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string-interpolation string" style="color:#e3116c">f&quot;Starting iteration </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">i</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">, &quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token string-interpolation string" style="color:#e3116c">f&quot;time: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">time</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">(</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">)</span><span class="token string-interpolation interpolation operator" style="color:#393A34">-</span><span class="token string-interpolation interpolation">start</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">, current MVaR HV: </span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">all_mvar_hvs</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">[</span><span class="token string-interpolation interpolation operator" style="color:#393A34">-</span><span class="token string-interpolation interpolation number" style="color:#36acaa">1</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">]</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Generate the perturbations for evaluation</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    perturbation_set </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        draw_sobol_normal_samples</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">d</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">base_function</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">dim</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> n</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">n_w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">tkwargs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"> scaled_std_dev</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Fit the model.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mll</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> model </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> initialize_model</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        train_x</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> train_y</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">Y</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> perturbation_set</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">perturbation_set</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    fit_gpytorch_mll</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mll</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">with</span><span class="token plain"> gpt_settings</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cholesky_max_tries</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">6</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Construct the acqf.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        sampler </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> SobolQMCNormalSampler</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sample_shape</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">Size</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">mc_samples</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        acq_func </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> get_MARS_NEI</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            model</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">model</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            n_w</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">n_w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            X_baseline</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            sampler</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">sampler</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            mvar_ref_point</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">mvar_ref_point</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Optimize the acqf.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">while</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;batch_limit&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic"># Try to get around OOM by reducing batch_limit.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">try</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cuda</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">empty_cache</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                candidates</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> _ </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> optimize_acqf</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    acq_function</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">acq_func</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    bounds</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">standard_bounds</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    q</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token operator" style="color:#393A34">**</span><span class="token plain">optimization_kwargs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cuda</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">empty_cache</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">break</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token keyword" style="color:#00009f">except</span><span class="token plain"> RuntimeError </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> e</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> options</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;batch_limit&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">print</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token string" style="color:#e3116c">&quot;Got a RuntimeError in `optimize_acqf`. &quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                        </span><span class="token string" style="color:#e3116c">&quot;Trying with reduced `batch_limit`.&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    options</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;batch_limit&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">//=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">2</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">continue</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                    </span><span class="token keyword" style="color:#00009f">raise</span><span class="token plain"> e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># free memory</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">del</span><span class="token plain"> acq_func</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mll</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> model</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    gc</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">collect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cuda</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">empty_cache</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic"># Get the new observations and update the data.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    new_y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> eval_problem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">candidates</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    X </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> candidates</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dim</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Y </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">Y</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> new_y</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dim</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    new_mvar_hv </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mvar_hv</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">candidates</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    all_mvar_hvs </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cat</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">all_mvar_hvs</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">tensor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">new_mvar_hv</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dtype</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">tkwargs</span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;dtype&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> dim</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">Starting iteration 0, time: 0.00027441978454589844, current MVaR HV: 42.430757642706055.</p></pre></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">/data/sandcastle/boxes/fbsource/buck-out/v2/gen/fbcode/f3b9a99e517e0a13/bento/kernels/__bento_kernel_axoptics__/bento_kernel_axoptics#link-tree/gpytorch/likelihoods/noise_models.py:144: NumericalWarning:</p><p style="margin-bottom:0px">Very small noise values detected. This will likely lead to numerical instabilities. Rounding small noise values up to 1e-06.</p></pre></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">Starting iteration 1, time: 9.476728200912476, current MVaR HV: 85.50895176532245.</p></pre></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">/data/sandcastle/boxes/fbsource/buck-out/v2/gen/fbcode/f3b9a99e517e0a13/bento/kernels/__bento_kernel_axoptics__/bento_kernel_axoptics#link-tree/gpytorch/likelihoods/noise_models.py:144: NumericalWarning:</p><p style="margin-bottom:0px">Very small noise values detected. This will likely lead to numerical instabilities. Rounding small noise values up to 1e-06.</p></pre></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">/data/sandcastle/boxes/fbsource/buck-out/v2/gen/fbcode/f3b9a99e517e0a13/bento/kernels/__bento_kernel_axoptics__/bento_kernel_axoptics#link-tree/botorch/optim/optimize.py:306: RuntimeWarning:</p><p style="margin-bottom:0px">Optimization failed in gen_candidates_scipy with the following warning(s):</p><p style="margin-bottom:0px">[NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;), OptimizationWarning(&#x27;Optimization failed within scipy.optimize.minimize with status 2.&#x27;), NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;), NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;), NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;)]</p><p style="margin-bottom:0px">Trying again with a new set of initial conditions.</p></pre></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">Starting iteration 2, time: 24.17291235923767, current MVaR HV: 87.13964153247537.</p></pre></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">/data/sandcastle/boxes/fbsource/buck-out/v2/gen/fbcode/f3b9a99e517e0a13/bento/kernels/__bento_kernel_axoptics__/bento_kernel_axoptics#link-tree/gpytorch/likelihoods/noise_models.py:144: NumericalWarning:</p><p style="margin-bottom:0px">Very small noise values detected. This will likely lead to numerical instabilities. Rounding small noise values up to 1e-06.</p><p style="margin-bottom:0px">/data/sandcastle/boxes/fbsource/buck-out/v2/gen/fbcode/f3b9a99e517e0a13/bento/kernels/__bento_kernel_axoptics__/bento_kernel_axoptics#link-tree/linear_operator/utils/cholesky.py:40: NumericalWarning:</p><p style="margin-bottom:0px">A not p.d., added jitter of 1.0e-08 to the diagonal</p></pre></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">Starting iteration 3, time: 29.630997896194458, current MVaR HV: 87.148383606772.</p></pre></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">/data/sandcastle/boxes/fbsource/buck-out/v2/gen/fbcode/f3b9a99e517e0a13/bento/kernels/__bento_kernel_axoptics__/bento_kernel_axoptics#link-tree/gpytorch/likelihoods/noise_models.py:144: NumericalWarning:</p><p style="margin-bottom:0px">Very small noise values detected. This will likely lead to numerical instabilities. Rounding small noise values up to 1e-06.</p></pre></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">/data/sandcastle/boxes/fbsource/buck-out/v2/gen/fbcode/f3b9a99e517e0a13/bento/kernels/__bento_kernel_axoptics__/bento_kernel_axoptics#link-tree/linear_operator/utils/cholesky.py:40: NumericalWarning:</p><p style="margin-bottom:0px">A not p.d., added jitter of 1.0e-08 to the diagonal</p></pre></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">/data/sandcastle/boxes/fbsource/buck-out/v2/gen/fbcode/f3b9a99e517e0a13/bento/kernels/__bento_kernel_axoptics__/bento_kernel_axoptics#link-tree/botorch/optim/optimize.py:306: RuntimeWarning:</p><p style="margin-bottom:0px">Optimization failed in gen_candidates_scipy with the following warning(s):</p><p style="margin-bottom:0px">[NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;), OptimizationWarning(&#x27;Optimization failed within scipy.optimize.minimize with status 2.&#x27;), NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;), NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;), OptimizationWarning(&#x27;Optimization failed within scipy.optimize.minimize with status 2.&#x27;), NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;), NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;), OptimizationWarning(&#x27;Optimization failed within scipy.optimize.minimize with status 2.&#x27;), NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;), NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;), OptimizationWarning(&#x27;Optimization failed within scipy.optimize.minimize with status 2.&#x27;), NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;)]</p><p style="margin-bottom:0px">Trying again with a new set of initial conditions.</p></pre></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">/data/sandcastle/boxes/fbsource/buck-out/v2/gen/fbcode/f3b9a99e517e0a13/bento/kernels/__bento_kernel_axoptics__/bento_kernel_axoptics#link-tree/botorch/optim/optimize.py:328: RuntimeWarning:</p><p style="margin-bottom:0px">Optimization failed on the second try, after generating a new set of initial conditions.</p></pre></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">Starting iteration 4, time: 43.48030400276184, current MVaR HV: 89.14242777378423.</p></pre></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">/data/sandcastle/boxes/fbsource/buck-out/v2/gen/fbcode/f3b9a99e517e0a13/bento/kernels/__bento_kernel_axoptics__/bento_kernel_axoptics#link-tree/gpytorch/likelihoods/noise_models.py:144: NumericalWarning:</p><p style="margin-bottom:0px">Very small noise values detected. This will likely lead to numerical instabilities. Rounding small noise values up to 1e-06.</p></pre></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">/data/sandcastle/boxes/fbsource/buck-out/v2/gen/fbcode/f3b9a99e517e0a13/bento/kernels/__bento_kernel_axoptics__/bento_kernel_axoptics#link-tree/linear_operator/utils/cholesky.py:40: NumericalWarning:</p><p style="margin-bottom:0px">A not p.d., added jitter of 1.0e-08 to the diagonal</p></pre></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">/data/sandcastle/boxes/fbsource/buck-out/v2/gen/fbcode/f3b9a99e517e0a13/bento/kernels/__bento_kernel_axoptics__/bento_kernel_axoptics#link-tree/botorch/optim/optimize.py:306: RuntimeWarning:</p><p style="margin-bottom:0px">Optimization failed in gen_candidates_scipy with the following warning(s):</p><p style="margin-bottom:0px">[NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;), NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;), OptimizationWarning(&#x27;Optimization failed within scipy.optimize.minimize with status 2.&#x27;), NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;), NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;), OptimizationWarning(&#x27;Optimization failed within scipy.optimize.minimize with status 2.&#x27;), NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;), NumericalWarning(&#x27;A not p.d., added jitter of 1.0e-08 to the diagonal&#x27;)]</p><p style="margin-bottom:0px">Trying again with a new set of initial conditions.</p></pre></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">/data/sandcastle/boxes/fbsource/buck-out/v2/gen/fbcode/f3b9a99e517e0a13/bento/kernels/__bento_kernel_axoptics__/bento_kernel_axoptics#link-tree/botorch/optim/optimize.py:328: RuntimeWarning:</p><p style="margin-bottom:0px">Optimization failed on the second try, after generating a new set of initial conditions.</p></pre></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="evaluate-results">Evaluate Results<a href="#evaluate-results" class="hash-link" aria-label="Direct link to Evaluate Results" title="Direct link to Evaluate Results">​</a></h2>
<p>First we evaluate the hypervolume dominated by the MvaR frontier and bounded from below
by the reference point. A larger hypervolume means a better MVaR frontier.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> matplotlib</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pyplot </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> plt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token operator" style="color:#393A34">%</span><span class="token plain">matplotlib inline</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">torch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">arange</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">all_mvar_hvs</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shape</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> all_mvar_hvs</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ylabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;MVaR HV&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;BO Iterations&quot;</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">Text(0.5, 0, &#x27;BO Iterations&#x27;)</p></pre></div>
<p><img decoding="async" loading="lazy" src="data:image/image/png;base64,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" alt="" class="img_ev3q"></p>
<p>Next, we plot the mvar frontier to see the possible probabilistic lower bounds. For each
point <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">z</mi></mrow><annotation encoding="application/x-tex">\mathbf z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em"></span><span class="mord mathbf">z</span></span></span></span> in the MVaR set, there is a previously evaluated design that will be
at least as good as <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant="bold">z</mi></mrow><annotation encoding="application/x-tex">\mathbf z</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4444em"></span><span class="mord mathbf">z</span></span></span></span> with probability <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>α</mi></mrow><annotation encoding="application/x-tex">\alpha</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em"></span><span class="mord mathnormal" style="margin-right:0.0037em">α</span></span></span></span>.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> botorch</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">utils</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">multi_objective</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">pareto </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> is_non_dominated</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Evaluate true MVaR</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Perturb X</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">perturbed_X </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mvar_hv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">perturbation</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Compute objectives at perturbed points</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">true_Y_under_noise </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> eval_problem</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">perturbed_X</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># calculate the MVaR frontier for each point X</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mvar_points </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mvar_hv</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">mvar</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">true_Y_under_noise</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># calculate the pareto frontier over the union of individual MVaR frontiers for each design</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">mvar_frontier </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> mvar_points</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">is_non_dominated</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">mvar_points</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cpu</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    mvar_frontier</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> mvar_frontier</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;.&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> alpha</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.4</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string" style="color:#e3116c">&quot;MVaR Frontier&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Objective 1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ylabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Objective 2&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">legend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">&lt;matplotlib.legend.Legend at 0x7f242df55a30&gt;</p></pre></div>
<p><img decoding="async" loading="lazy" src="data:image/image/png;base64,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" alt="" class="img_ev3q"></p>
<p>Finally, we can plot the MVaR frontier for each evaluated design. Clearly some designs
are far more robust than others under input noise.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">enumerate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">true_Y_under_noise</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">view</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">X</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">shape</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> hv_n_w</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">-</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">cpu</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">plot</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">y</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> y</span><span class="token punctuation" style="color:#393A34">[</span><span class="token punctuation" style="color:#393A34">:</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;.&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> color</span><span class="token operator" style="color:#393A34">=</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;C</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">i</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> label</span><span class="token operator" style="color:#393A34">=</span><span class="token string-interpolation string" style="color:#e3116c">f&quot;x_</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">{</span><span class="token string-interpolation interpolation">i</span><span class="token string-interpolation interpolation punctuation" style="color:#393A34">}</span><span class="token string-interpolation string" style="color:#e3116c">&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> alpha</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.3</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">xlabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Objective 1&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">ylabel</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&quot;Objective 2&quot;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">plt</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">legend</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<div style="background-color:var(--ifm-pre-background);margin-bottom:10px;border-radius:var(--ifm-global-radius);overflow:hidden;padding:5px;font:var(--ifm-code-font-size) / var(--ifm-pre-line-height) var(--ifm-font-family-monospace)"><span style="color:red">Out: </span><pre style="margin:0px;background-color:inherit;padding:8px"><p style="margin-bottom:0px">&lt;matplotlib.legend.Legend at 0x7f242df52580&gt;</p></pre></div>
<p><img decoding="async" loading="lazy" src="data:image/image/png;base64,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" alt="" class="img_ev3q"></p>
<pre tabindex="0" class="codeBlockStandalone_MEMb thin-scrollbar language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"></code></pre></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/pytorch/botorch/edit/main/docs/../docs/tutorials/robust_multi_objective_bo/index.mdx" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/botorch/docs/tutorials/constrained_multi_objective_bo/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Constrained multi-objective optimization with qNEHVI and qParEGO</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/botorch/docs/tutorials/decoupled_mobo/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Multi-objective Bayesian optimization with decoupled evaluations</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#robust-multi-objective-bayesian-optimization-under-input-noise" class="table-of-contents__link toc-highlight">Robust Multi-Objective Bayesian Optimization Under Input Noise</a></li><li><a href="#configure-the-problem-and-optimization" class="table-of-contents__link toc-highlight">Configure the problem and optimization</a></li><li><a href="#create-a-function-for-evaluating-the-objectives" class="table-of-contents__link toc-highlight">Create a function for evaluating the objectives.</a></li><li><a href="#create-a-function-for-sampling-initial-quasi-random-points-from-the-unit-cube" class="table-of-contents__link toc-highlight">Create a function for sampling initial quasi-random points from the unit cube</a></li><li><a href="#create-a-utility-module-for-evaluating-the-hypervolume-of-the-mvar-frontier" class="table-of-contents__link toc-highlight">Create a utility module for evaluating the hypervolume of the MVaR frontier</a></li><li><a href="#create-a-method-for-initializing-the-surrogate-model" class="table-of-contents__link toc-highlight">Create a method for initializing the surrogate model</a></li><li><a href="#create-a-method-for-initializing-mars-nei" class="table-of-contents__link toc-highlight">Create a method for initializing MARS-NEI</a></li><li><a href="#set-up-the-optimization" class="table-of-contents__link toc-highlight">Set up the optimization</a></li><li><a href="#run-bo-with-mars" class="table-of-contents__link toc-highlight">Run BO with MARS</a></li><li><a href="#evaluate-results" class="table-of-contents__link toc-highlight">Evaluate Results</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/botorch/docs/introduction">Introduction</a></li><li class="footer__item"><a class="footer__link-item" href="/botorch/docs/getting_started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/botorch/docs/tutorials/">Tutorials</a></li><li class="footer__item"><a href="https://botorch-dev.readthedocs.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">API Reference</a></li><li class="footer__item"><a href="https://arxiv.org/abs/1910.06403" target="_blank" rel="noopener noreferrer" class="footer__link-item">Paper<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://opensource.facebook.com/legal/privacy/" target="_blank" rel="noreferrer noopener" class="footer__link-item">Privacy<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://opensource.facebook.com/legal/terms/" target="_blank" rel="noreferrer noopener" class="footer__link-item">Terms<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/pytorch/botorch" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><iframe src="https://ghbtns.com/github-btn.html?user=pytorch&amp;repo=botorch&amp;type=star&amp;count=true&amp;size=small" title="GitHub Stars"></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/botorch/img/meta_opensource_logo_negative.svg" alt="Botorch" class="footer__logo themedComponent_mlkZ themedComponent--light_NVdE"><img src="/botorch/img/meta_opensource_logo_negative.svg" alt="Botorch" class="footer__logo themedComponent_mlkZ themedComponent--dark_xIcU"></div><div class="footer__copyright">Copyright © 2024 Meta Platforms, Inc.</div></div></div></footer></div>
</body>
</html>